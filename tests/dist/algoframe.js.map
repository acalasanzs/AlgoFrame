{"version":3,"file":"algoframe.js","mappings":"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","sources":["webpack://AlgoFrame/webpack/universalModuleDefinition","webpack://AlgoFrame/./modules/Timeline.ts","webpack://AlgoFrame/./test.ts","webpack://AlgoFrame/./utils.ts","webpack://AlgoFrame/./algoframe/utils.js","webpack://AlgoFrame/./algoframe/index.js","webpack://AlgoFrame/webpack/bootstrap","webpack://AlgoFrame/webpack/runtime/define property getters","webpack://AlgoFrame/webpack/runtime/hasOwnProperty shorthand","webpack://AlgoFrame/webpack/runtime/make namespace object","webpack://AlgoFrame/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AlgoFrame\"] = factory();\n\telse\n\t\troot[\"AlgoFrame\"] = factory();\n})(self, () => {\nreturn ","import { Preset, EasingFunctions, passPreset } from '../utils';\r\n\r\n// Classes\r\n\r\nclass _keyframe {\r\n  static instances = 0;\r\n  readonly id: number;\r\n  public duration!: number;\r\n  constructor(\r\n    public timing: number,\r\n    public type: 'ratio' | 'miliseconds' = 'ratio',\r\n    public delay?: number,\r\n    public hold: boolean = false\r\n  ) {\r\n    this.id = _keyframe.instances++;\r\n  }\r\n  time(duration: number): number {\r\n    if (this.delay) {\r\n      if (!this.duration)\r\n        throw new Error('Keyframe with delay has to have duration setted');\r\n      this.timing =\r\n        this.type === 'ratio'\r\n          ? ratioAndMilisecons(this.timing, this.delay!, this.duration!)\r\n          : this.timing + this.delay!;\r\n    }\r\n    if (!this.duration)\r\n      throw new Error(\r\n        'Need to set this.duration to each keyframe in the keyframes manager'\r\n      );\r\n    return this.type === 'miliseconds'\r\n      ? this.timing / (this.duration / duration)\r\n      : duration * this.timing;\r\n  }\r\n}\r\n\r\nexport class valueKeyframe extends _keyframe {\r\n  constructor(\r\n    public value: number,\r\n    timing: number,\r\n    type: 'ratio' | 'miliseconds' = 'miliseconds',\r\n    delay?: number,\r\n    hold: boolean = false\r\n  ) {\r\n    super(timing, type, delay, hold);\r\n  }\r\n}\r\n// unknown now but maybe a special kind of AlgoFrame + Timeline for nested sequencees! And must fit in the timeline keyframe\r\nexport class nestedKeyframe extends _keyframe {\r\n  constructor(\r\n    public obj: Sequence,\r\n    timing: number,\r\n    type: 'ratio' | 'miliseconds' = 'miliseconds',\r\n    delay?: number\r\n  ) {\r\n    super(timing, type, delay);\r\n  }\r\n}\r\n\r\nexport class ChannelBlock extends _keyframe {\r\n  public duration!: number;\r\n  constructor(\r\n    public seq: Sequence,\r\n    timing: number,\r\n    type: 'ratio' | 'miliseconds',\r\n    delay?: number\r\n  ) {\r\n    super(timing, type, delay);\r\n    this.duration = seq.duration;\r\n  }\r\n}\r\n\r\n// Enumerables\r\ntype _simple = valueKeyframe[];\r\ntype _nested = nestedKeyframe[];\r\n\r\n// Anonymous Interfaces\r\nexport type __objectKeyframe = {\r\n  obj: Sequence;\r\n  timing: number;\r\n  type: 'ratio' | 'miliseconds';\r\n  delay?: number;\r\n  duration?: number;\r\n};\r\nexport type __valueKeyframe = {\r\n  value: number;\r\n  timing: number;\r\n  type: 'ratio' | 'miliseconds';\r\n  delay?: number;\r\n  duration?: number;\r\n};\r\n\r\nabstract class KeyChanger {\r\n  public duration: number;\r\n  run: (nestedKeyframe | valueKeyframe)[];\r\n  next: (valueKeyframe | nestedKeyframe) | null = null;\r\n  current: (valueKeyframe | nestedKeyframe) | null = null;\r\n  public adaptative: boolean = false;\r\n  keyframes?: (\r\n    | __valueKeyframe\r\n    | __objectKeyframe\r\n    | valueKeyframe\r\n    | nestedKeyframe\r\n  )[];\r\n  easing: (t: number) => number;\r\n\r\n  constructor(duration: number | false, easing: Preset = 'linear') {\r\n    this.duration =\r\n      typeof duration === 'number'\r\n        ? Math.floor(duration)\r\n        : (_ => {\r\n            this.adaptative = true;\r\n            return 1;\r\n          })();\r\n    this.run = [];\r\n    this.easing = passPreset(easing);\r\n  }\r\n  protected nextTime(): void {\r\n    if (!this.run.length) {\r\n      this.next = null;\r\n      return;\r\n    }\r\n    if (this.run.length > 1) {\r\n      this.current = this.run.reduce((previousValue, currentValue) => {\r\n        return currentValue!.time(this.duration) <\r\n          previousValue!.time(this.duration)\r\n          ? currentValue\r\n          : previousValue;\r\n      });\r\n      this.next =\r\n        this.run\r\n          .filter(\r\n            v => v!.time(this.duration) !== this.current!.time(this.duration)\r\n          )\r\n          .reduce((previousValue, currentValue) =>\r\n            currentValue!.time(this.duration) <\r\n            previousValue!.time(this.duration)\r\n              ? currentValue\r\n              : previousValue\r\n          ) || this.current;\r\n      // console.log(this.current?.time(1), this.next.time(1), this.run);\r\n    } else {\r\n      this.restart();\r\n    }\r\n    this.run.shift();\r\n  }\r\n  protected abstract reset(): void;\r\n  protected passKeyframe(k: any | nestedKeyframe | valueKeyframe) {\r\n    if (k instanceof nestedKeyframe || k instanceof valueKeyframe) return k;\r\n    return this.is_value(k)\r\n      ? new valueKeyframe(k.value, k.timing, k.type)\r\n      : new nestedKeyframe(k.obj, k.timing, k.type);\r\n  }\r\n  protected is_value(object: any): object is __valueKeyframe {\r\n    return 'val' in object;\r\n  }\r\n  public restart() {\r\n    while (this.run.length) this.run.pop();\r\n    this.reset();\r\n  }\r\n  // This is called when in this.test(), this.current is of type nestedKeyframe, so treat de return as a nested timeline call.\r\n  protected abstract currentAsSequence(\r\n    object: nestedKeyframe,\r\n    progress: number,\r\n    end: number\r\n  ): any;\r\n  static lerp(x: number, y: number, a: number) {\r\n    const lerp = x * (1 - a) + y * a;\r\n    return lerp;\r\n  }\r\n  public test(\r\n    progress: number,\r\n    miliseconds: boolean = false,\r\n    runAdaptative: boolean = false,\r\n    nextValue?: valueKeyframe\r\n  ): number | undefined {\r\n    progress = progress <= 1 ? progress : 1;\r\n    let next = nextValue ? nextValue : this.next;\r\n    if (this.adaptative && !runAdaptative) {\r\n      throw new Error(\r\n        'Adaptitive timed sequences cannot be played in first place'\r\n      );\r\n    }\r\n    if (miliseconds && !runAdaptative) progress = progress * this.duration;\r\n    else if (miliseconds)\r\n      throw new Error('miliseconds mode not allowe when adaptative');\r\n    if (next && this.current) {\r\n      while (next!.time(1) <= progress && !(next!.time(1) === 1)) {\r\n        this.nextTime(); //bug-proof\r\n        next = this.next;\r\n      }\r\n      if (\r\n        next instanceof valueKeyframe &&\r\n        this.current instanceof valueKeyframe\r\n      ) {\r\n        progress = Math.min(\r\n          this.easing(progress),\r\n          miliseconds ? this.duration : 1\r\n        );\r\n        const a = next.time(1) - this.current.time(1);\r\n        const trace = progress / a;\r\n        const kProgress =\r\n          progress < progress - a\r\n            ? trace\r\n            : (progress - this.current.time(1)) / a;\r\n        console.log(String([this.current.time(1), next.time(1)]));\r\n        const lerp = KeyChanger.lerp(\r\n          this.current.value,\r\n          next.value,\r\n          next.hold ? kProgress : 0\r\n        );\r\n        // debugger;\r\n        // console.log(this.current, next);\r\n        return lerp;\r\n      } else if (\r\n        next instanceof nestedKeyframe &&\r\n        this.current instanceof valueKeyframe\r\n      ) {\r\n        // return (this.current as nestedKeyframe).obj.test(progress - this.current.time);\r\n        const nextValueFromObj = new valueKeyframe(\r\n          this.getAbsoluteStartValue(next.obj),\r\n          next.time(1),\r\n          'ratio'\r\n        );\r\n        nextValueFromObj.duration = this.duration;\r\n        return this.test(\r\n          progress,\r\n          undefined,\r\n          undefined,\r\n          nextValueFromObj\r\n          // this.next.obj.run[0].value\r\n        );\r\n      } else if (\r\n        this.current instanceof nestedKeyframe &&\r\n        next instanceof nestedKeyframe\r\n      ) {\r\n        // this.nextTime();\r\n        // debugger;\r\n        const res = this.currentAsSequence(\r\n          this.current as nestedKeyframe,\r\n          progress,\r\n          this.next ? this.next.time(1) : 1\r\n        );\r\n        return res;\r\n      } else if (\r\n        this.current instanceof nestedKeyframe &&\r\n        (next instanceof valueKeyframe || !next)\r\n      ) {\r\n        // console.log(progress.toFixed(2));\r\n        return this.currentAsSequence(\r\n          this.current as nestedKeyframe,\r\n          progress,\r\n          next ? next.time(1) : 1\r\n        );\r\n      }\r\n    }\r\n  }\r\n  getAbsoluteStartValue(sequence: Sequence): number {\r\n    let last = sequence.current;\r\n    while (last instanceof nestedKeyframe) {\r\n      last = sequence.current;\r\n    }\r\n    return last!.value;\r\n  }\r\n  getAbsoluteEndKeyframe(sequence: Sequence): valueKeyframe {\r\n    let last = sequence.run[sequence.run.length - 1];\r\n    while (last instanceof nestedKeyframe) {\r\n      last = sequence.run[sequence.run.length - 1];\r\n    }\r\n    return last;\r\n  }\r\n}\r\n\r\n// TODO:\r\n// 1. Nested Sequence instances DONE\r\n//    Adaptative Sequence duration DONE\r\n// P.D.: That's not the as AlgoFrame.timeline, which each timing 'sequence' has its own function rather a numeric value in a Sequence\r\nexport class Sequence extends KeyChanger {\r\n  type: 'nested' | 'simple' = 'simple';\r\n  taken: number[];\r\n  constructor(\r\n    duration: number | false,\r\n    public keyframes: (\r\n      | __valueKeyframe\r\n      | __objectKeyframe\r\n      | valueKeyframe\r\n      | nestedKeyframe\r\n    )[],\r\n    easing: Preset = 'linear',\r\n    public callback: Function | null = null\r\n  ) {\r\n    super(duration, easing);\r\n    // Pushes and Checks if all events are of type nestedKeyframe or _keyframe\r\n    this.taken = [];\r\n    const zero = this.passKeyframe(keyframes[0]);\r\n    const final = this.passKeyframe(keyframes[keyframes.length - 1]);\r\n    zero.duration = this.duration;\r\n    final.duration = this.duration;\r\n    if (zero.time(1) > 0) {\r\n      // this.taken.push(0);\r\n      const first =\r\n        zero instanceof valueKeyframe\r\n          ? new valueKeyframe(zero.value, 0)\r\n          : new nestedKeyframe(zero.obj, 0);\r\n      first.duration = this.duration;\r\n      this.keyframes.unshift(first);\r\n      this.run.push(first);\r\n    }\r\n    if (final.time(1) < 1) {\r\n      if (final instanceof nestedKeyframe)\r\n        throw new Error(\r\n          \"Cannot set last keyframe as nested sequence, it's impossible\"\r\n        );\r\n      const last = new valueKeyframe(final.value, 1, 'ratio');\r\n      last.duration = this.duration;\r\n      this.keyframes.push(last);\r\n      this.run.push(last);\r\n    }\r\n    this.keyframes.forEach((k: any, i) => {\r\n      k.duration = this.duration;\r\n      k = this.passKeyframe(k);\r\n      const timing = k.time(this.duration);\r\n      if (timing > this.duration) throw new Error('Keyframe timing overflow');\r\n      if (this.taken.includes(timing))\r\n        throw new Error('It must not have repeated times');\r\n      this.taken.push(k.time(1));\r\n      if (k instanceof nestedKeyframe) this.type = 'nested';\r\n      this.run.push(k);\r\n    });\r\n    if (!this.type) throw new Error('No events/keyframes provided');\r\n\r\n    if (this.keyframes[0] instanceof valueKeyframe) {\r\n    }\r\n    try {\r\n      this.nextTime();\r\n    } catch {\r\n      throw new Error(\r\n        'Identical time signatures on keyframes are not allowed on a single animation channel'\r\n      );\r\n    }\r\n  }\r\n  public addKeyframe(\r\n    /**\r\n     * Adds a new keyframe to the entire set,\r\n     *\r\n     * @remarks\r\n     * To apply new keyframes, must do .restart() before\r\n     *\r\n     * @param keyframe - A valid AlgoFrame's keyframe object\r\n     */\r\n    keyframe:\r\n      | __valueKeyframe\r\n      | __objectKeyframe\r\n      | valueKeyframe\r\n      | nestedKeyframe\r\n  ): Sequence {\r\n    return this;\r\n  }\r\n  public replaceKeyframe(\r\n    keyframe:\r\n      | __valueKeyframe\r\n      | __objectKeyframe\r\n      | valueKeyframe\r\n      | nestedKeyframe\r\n  ) {\r\n    return this;\r\n  }\r\n  protected currentAsSequence(\r\n    object: nestedKeyframe,\r\n    progress: number,\r\n    end: number\r\n  ): number | undefined {\r\n    // console.log((progress - object.time(1)) / (end - object.time(1)));\r\n    const rProgress = (progress - object.time(1)) / (end - object.time(1));\r\n    let res!: number;\r\n    if (rProgress <= 1) {\r\n      // console.log(object.obj);\r\n      res = object.obj.test(rProgress, undefined, true) as number;\r\n      return res;\r\n    }\r\n  }\r\n  protected reset(): void {\r\n    this.keyframes.forEach(k => this.run.push(this.passKeyframe(k)));\r\n  }\r\n  // public restart(): void in abstract parent class\r\n  clone() {\r\n    let orig = this;\r\n    return Object.assign(Object.create(Object.getPrototypeOf(orig)), orig);\r\n  }\r\n}\r\n\r\nexport class ChannelsTimeline extends KeyChanger {\r\n  //AllRun? to all channels simultaneously\r\n  // Return a nested object of all the results in a given time?\r\n  // So in that case, call every AlgoFrame Sequence/timeline better.\r\n  constructor(\r\n    duration: number,\r\n    public channels: ChannelBlock[], // Main sequences means a whole channel, but all must have the same length in miliseconds. If not, all will be extended to the largest one.\r\n    easing: Preset = 'linear'\r\n  ) {\r\n    super(duration, easing);\r\n    // All sequences, if not overlaping, return that: undefined, which won't be called on its own Sequence.callback\r\n    //\r\n    const toMaxDuration: Sequence[] = [];\r\n    const maxDuration = channels.reduce((prev: number, cur: ChannelBlock) => {\r\n      if (cur.seq.adaptative) {\r\n        toMaxDuration.push(cur.seq);\r\n        return prev;\r\n      }\r\n      return prev < cur.seq.duration ? cur.seq.duration : prev;\r\n    }, 1);\r\n\r\n    // All channels with the same length\r\n    channels.forEach(channel => {\r\n      if (channel.duration < maxDuration) {\r\n        channel.enlarge(maxDuration - channel.duration);\r\n      }\r\n    });\r\n  }\r\n  protected currentAsSequence(object: nestedKeyframe, progress: number) {}\r\n  protected reset(): void {}\r\n}\r\n\r\nfunction ratioAndMilisecons(\r\n  ratio: number,\r\n  miliseconds: number,\r\n  duration: number\r\n): number {\r\n  /**\r\n   * @param ratio - The ratio of the basic measure, between 0 and 1\r\n   * @param miliseconds - Miliseconds to delay on the ratio\r\n   * @param duration - Total duration of the sequence\r\n   * @returns The arithmetic sum with all parameters in miliseconds\r\n   */\r\n  return ratio * duration + miliseconds;\r\n}\r\n","// @ts-ignore\r\nimport * as AF from './algoframe'; // * AlgoFrame 4.4.4\r\nimport { Sequence, nestedKeyframe, valueKeyframe } from './modules/Timeline';\r\n\r\n// Animation engine\r\n\r\n// Falta la transiciÃ³n entre nested y value;\r\n\r\nconst delay: number = 300;\r\n\r\n// For reversed timelines, 1 pass to 0 and 0 pass to 1 cosntantly during the animation.\r\n\r\n// Blocked keyframes like AE? DONE\r\nconst basic = new Sequence(false, [\r\n  new valueKeyframe(2222, 0, 'ratio'),\r\n  new valueKeyframe(4444, 0.5, 'ratio'),\r\n  new valueKeyframe(6666, 1, 'ratio'),\r\n]);\r\nconst first = new Sequence(false, [\r\n  new nestedKeyframe(basic.clone(), 0, 'ratio'),\r\n  new nestedKeyframe(basic.clone(), 0.5, 'ratio'),\r\n  new nestedKeyframe(basic.clone(), 1, 'ratio'),\r\n]);\r\nconst second = new Sequence(3 ** 3 * 1000, [\r\n  new nestedKeyframe(first.clone(), 0, 'ratio'),\r\n  new nestedKeyframe(first.clone(), 0.5, 'ratio'),\r\n  new nestedKeyframe(first.clone(), 1, 'ratio'),\r\n]);\r\n\r\n// Invalid Keyframes Object AlgoFrame 4.4.4 if(!keyframes instanceof Keyframes) throw; not in 5.0.0\r\nconst animation = new AF.AlgoFrame(1000, delay, 'linear', second);\r\n\r\n// Keyframes\r\n// Needs to allow ratios and miliseconds values on duration\r\n/* const keyframes = new AFT.Sequence(500, [\r\n  new AFT.valueKeyframe(0, 0.2, 'ratio'),\r\n  new AFT.valueKeyframe(1, 100, 'miliseconds'),\r\n  \r\n  => Uncaught Error: Invalid Keyframes Object!\r\n]); */\r\n// keyframes.addKeyframe(new AFT.valueKeyframe(0, 0, 'ratio'));\r\nanimation.run((x: any, y: number) => {\r\n  // tslint:disable-next-line:no-debugger\r\n  console.log(x, (y * 100).toFixed(1));\r\n});\r\n// animation.run((x: number) => console.log(keyframes.test(x)));\r\n","class EasingFunctions {\r\n  // no easing; no acceleration\r\n  static linear: (t: number) => number = t => t;\r\n  // accelerating from zero velocity\r\n  static easeInQuad: (t: number) => number = t => t * t;\r\n  // decelerating to zero velocity\r\n  static easeOutQuad: (t: number) => number = t => t * (2 - t);\r\n  // acceleration until halfway; then deceleration\r\n  static easeInOutQuad: (t: number) => number = t =>\r\n    t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n  // accelerating from zero velocity\r\n  static easeInCubic: (t: number) => number = t => t * t * t;\r\n  // decelerating to zero velocity\r\n  static easeOutCubic: (t: number) => number = t => --t * t * t + 1;\r\n  // acceleration until halfway; then deceleration\r\n  static easeInOutCubic: (t: number) => number = t =>\r\n    t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n  // accelerating from zero velocity\r\n  static easeInQuart: (t: number) => number = t => t * t * t * t;\r\n  // decelerating to zero velocity\r\n  static easeOutQuart: (t: number) => number = t => 1 - --t * t * t * t;\r\n  // acceleration until halfway; then deceleration\r\n  static easeInOutQuart: (t: number) => number = t =>\r\n    t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\r\n  // accelerating from zero velocity\r\n  static easeInQuint: (t: number) => number = t => t * t * t * t * t;\r\n  // decelerating to zero velocity\r\n  static easeOutQuint: (t: number) => number = t => 1 + --t * t * t * t * t;\r\n  // acceleration until halfway; then deceleration\r\n  static easeInOutQuint: (t: number) => number = t =>\r\n    t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\r\n}\r\ntype Preset = string | ((x: number) => number);\r\nfunction passPreset(preset: Preset) {\r\n  if (typeof preset !== 'function') {\r\n    return EasingFunctions[\r\n      preset as keyof typeof EasingFunctions\r\n    ] as Preset as (t: number) => number;\r\n  } else {\r\n    return preset as (t: number) => number;\r\n  }\r\n}\r\nexport { EasingFunctions, Preset, passPreset };\r\n","export const EasingFunctions = {\r\n  // no easing, no acceleration\r\n  linear: (t) => t,\r\n  // accelerating from zero velocity\r\n  easeInQuad: (t) => t * t,\r\n  // decelerating to zero velocity\r\n  easeOutQuad: (t) => t * (2 - t),\r\n  // acceleration until halfway, then deceleration\r\n  easeInOutQuad: (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\r\n  // accelerating from zero velocity\r\n  easeInCubic: (t) => t * t * t,\r\n  // decelerating to zero velocity\r\n  easeOutCubic: (t) => --t * t * t + 1,\r\n  // acceleration until halfway, then deceleration\r\n  easeInOutCubic: (t) =>\r\n    t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\r\n  // accelerating from zero velocity\r\n  easeInQuart: (t) => t * t * t * t,\r\n  // decelerating to zero velocity\r\n  easeOutQuart: (t) => 1 - --t * t * t * t,\r\n  // acceleration until halfway, then deceleration\r\n  easeInOutQuart: (t) =>\r\n    t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\r\n  // accelerating from zero velocity\r\n  easeInQuint: (t) => t * t * t * t * t,\r\n  // decelerating to zero velocity\r\n  easeOutQuint: (t) => 1 + --t * t * t * t * t,\r\n  // acceleration until halfway, then deceleration\r\n  easeInOutQuint: (t) =>\r\n    t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t,\r\n};\r\n","import { EasingFunctions } from './utils';\r\nclass AlgoFrame {\r\n  constructor(\r\n    duration,\r\n    starttime,\r\n    easing,\r\n    keyframes,\r\n    FPS = null,\r\n    loop = false\r\n  ) {\r\n    if (typeof easing !== 'function') {\r\n      this.easing = EasingFunctions[easing];\r\n    } else {\r\n      this.easing = easing;\r\n    }\r\n    this.starttime = starttime ? starttime : 0;\r\n    this._starttime = this.starttime;\r\n    this.duration = duration;\r\n    this.startafterwait = null;\r\n    this.startanimationtime = null;\r\n    this.stop = false;\r\n    this._start = new Promise(res => (this.__start = res));\r\n    // if (!(keyframes instanceof Keyframes)) {\r\n    //   throw new Error('Invalid Keyframes Object!');\r\n    // }\r\n    this.keyframes = keyframes;\r\n    this.done = false;\r\n    this.next = undefined;\r\n\r\n    this._FPS = FPS;\r\n    this.frameDelay = 1000 / this._FPS;\r\n    this.frameRate = 0;\r\n    this.frame = -1;\r\n    this.animationFrame = -1;\r\n\r\n    this.loop = loop;\r\n  }\r\n  get FPS() {\r\n    return this._FPS ? 1000 / this._FPS : null;\r\n  }\r\n  set FPS(value) {\r\n    const FPS = parseFloat(value);\r\n    if (FPS) {\r\n      this._FPS = FPS;\r\n      this.frameDelay = 1000 / FPS;\r\n      // this.frame = -1;\r\n      // this.starttime = null;\r\n    } else throw new Error('Not a valid Number');\r\n  }\r\n  nextTime(arr = this._running) {\r\n    if (!arr.length) {\r\n      console.log(new Error());\r\n    }\r\n    return arr.reduce((previousValue, currentValue) =>\r\n      currentValue.time < previousValue.time ? currentValue : previousValue\r\n    );\r\n  }\r\n  save(callback, precision) {\r\n    this.callback = callback;\r\n    this.precision = precision;\r\n  }\r\n  restartKeyframes(t) {\r\n    this._timeline.forEach(t => {\r\n      if (t.id === this._current.id) return;\r\n      t._.keyframes.restart();\r\n      t._.keyframes.nextTime();\r\n      t.running = false;\r\n    });\r\n  }\r\n  restartTimeline() {\r\n    this._timeline.forEach(x => this._running.push(x));\r\n    this._next = this.nextTime();\r\n  }\r\n  timeline(array, real, reverseLoop) {\r\n    this._timeline = [];\r\n    this._running = [];\r\n    let data = [];\r\n    array.forEach(event => {\r\n      if (event.time >= 1 || event.time < 0 || isNaN(event.time)) {\r\n        throw new Error('Not valid');\r\n      }\r\n      data.push({\r\n        _: new AlgoFrame(\r\n          event.duration,\r\n          event.delay ? event.delay : 0,\r\n          event.easing ? event.easing : this.easing,\r\n          event.keyframes ? event.keyframes.clone() : this.keyframes.clone(),\r\n          this._FPS\r\n        ).finally(event.finally),\r\n        time: event.time,\r\n        callback: event.run,\r\n      });\r\n    });\r\n    let all = array.reduce((p, c) => {\r\n      return p + c.duration || 0 + c.delay || 0;\r\n    }, 0);\r\n    if (all / array[array.length - 1].time < array[array.length - 1].duration) {\r\n      this.duration +=\r\n        array[array.length - 1].duration - all / array[array.length - 1].time;\r\n    }\r\n    if (this.duration < all) {\r\n      this.duration = all;\r\n    }\r\n    const len = data.length;\r\n    for (let i = 0; i < len; i++) {\r\n      const cur = this.nextTime(data);\r\n      cur.id = i + 1;\r\n      cur._.id = i + 1;\r\n      this._timeline.push(cur);\r\n      data.splice(data.indexOf(this._timeline[i]), 1);\r\n    }\r\n    this.saved_timeline = this._timeline.map(l => l.time);\r\n    this.restartTimeline();\r\n    let first = this._next;\r\n    let last = this._timeline.reduce((previousValue, currentValue) =>\r\n      currentValue.time > previousValue.time ? currentValue : previousValue\r\n    );\r\n    this.reversed = false;\r\n    this.callback = function (X, easedProgress, params) {\r\n      real(X, easedProgress, params);\r\n      const next = () => {\r\n        this._next._.startanimationtime =\r\n          params.timestamp + this._next._._starttime;\r\n        this._next._.waiting = true;\r\n\r\n        //Parent info\r\n        this._next._.time = this._next.time;\r\n\r\n        this._next._.run(this._next.callback);\r\n        this._next.running = true;\r\n        this._current = this._next;\r\n        this._running.shift();\r\n        console.log(\r\n          this._next.time,\r\n          this._running.map(l => l.time)\r\n        );\r\n        if (this._running.length) {\r\n          this._next = this.nextTime();\r\n        }\r\n      };\r\n      if (this._next) {\r\n        if (easedProgress >= this._next.time && !this._next.running) {\r\n          next();\r\n        }\r\n      } else {\r\n        console.log('REVERSED');\r\n        if (reverseLoop && !this.reversed) {\r\n          this._timeline.forEach((l, i) => {\r\n            l.time =\r\n              this.saved_timeline[this.saved_timeline.length - (i + 1)] -\r\n              this.nextTime(this.saved_timeline);\r\n          });\r\n        } else if (reverseLoop) {\r\n          this._timeline.forEach((l, i) => (l.time = this.saved_timeline[i]));\r\n        }\r\n\r\n        while (this._running.length) this._running.shift();\r\n        this.restartTimeline();\r\n        this.restartKeyframes();\r\n        if (reverseLoop && !this.reversed) this._running.reverse();\r\n        this.reversed = !this.reversed;\r\n        first = this._next;\r\n        last = this._timeline.reduce((previousValue, currentValue) =>\r\n          currentValue.time > previousValue.time ? currentValue : previousValue\r\n        );\r\n        this._running.shift();\r\n        this._next = this.nextTime();\r\n        next();\r\n      }\r\n    };\r\n    return this;\r\n  }\r\n  run(callback, precision = this._FPS) {\r\n    let condition, seg;\r\n    this.callback = callback ? callback : this.callback;\r\n\r\n    class Refresher {\r\n      constructor(precision = 1) {\r\n        this.history = new Array(precision).fill(0);\r\n        this.last = 0;\r\n        this.currenttime = 0;\r\n      }\r\n      refresh(timestamp) {\r\n        this.history.unshift(0);\r\n        this.history.pop();\r\n        this.history[0] = timestamp - this.currenttime;\r\n        this.last = this.history.includes(0)\r\n          ? 'Calculating...'\r\n          : this.history.reduce((prev, curr) => prev + curr) /\r\n            this.history.length;\r\n        this.currenttime = timestamp;\r\n      }\r\n    }\r\n\r\n    this.last = new Refresher();\r\n    if (isNaN(precision)) {\r\n      console.log(new Error(`${precision} is NaN`));\r\n      precision = this._FPS;\r\n      if (!isNaN(this.precision)) precision = this.precision;\r\n    }\r\n    this.lastFrameRate = this.lastFrameRate\r\n      ? this.lastFrameRate\r\n      : new Refresher(precision);\r\n\r\n    function animate(timestamp) {\r\n      if (this.done) {\r\n        this.frame = -1;\r\n        this.startanimationtime = timestamp;\r\n        this.done = false;\r\n        this._next = null;\r\n      }\r\n      if (this._FPS) {\r\n        seg = Math.floor((timestamp - this.starttime) / this.frameDelay);\r\n        condition = Boolean(seg > this.frame);\r\n      } else {\r\n        condition = true;\r\n      }\r\n      this.last.refresh(timestamp);\r\n      const runtime = timestamp - this.startanimationtime;\r\n      let relativeProgress = runtime / this.duration;\r\n      const easedProgress = this.easing(relativeProgress);\r\n      this.progress = easedProgress;\r\n      if (!this.startanimationtime && this.starttime === 0) {\r\n        this.startanimationtime = timestamp;\r\n      } else if (this.starttime > 0) {\r\n        this.startanimationtime = timestamp;\r\n        this.starttime =\r\n          this.starttime - this.last.last < this.last.last * 0.7\r\n            ? 0\r\n            : this.starttime - this.last.last;\r\n        requestAnimationFrame(animate.bind(this));\r\n        return;\r\n      }\r\n      let sent = false;\r\n      if (condition) {\r\n        this.frame = seg;\r\n        this.animationFrame++;\r\n        this.lastFrameRate.refresh(timestamp);\r\n        sent = true;\r\n        this.callback(\r\n          this.waiting ? 0 : this.keyframes.test(Math.min(easedProgress, 1)),\r\n          Math.min(easedProgress, 1),\r\n          {\r\n            lastFrame: this.lastFrameRate.last,\r\n            currentTime: this.lastFrameRate.currentTime,\r\n            frame: this.animationFrame,\r\n            timestamp,\r\n          }\r\n        );\r\n        this.waiting = false;\r\n      }\r\n      if (!this.stop) {\r\n        if (runtime < this.duration) {\r\n          requestAnimationFrame(animate.bind(this));\r\n        } else if (runtime + this.last.last > this.duration) {\r\n          this.animationFrame++;\r\n          // this.keyframes.nextTime();\r\n          this.callback(this.keyframes.test(1), 1, {\r\n            lastFrame: this.lastFrameRate.last,\r\n            currentTime: this.lastFrameRate.currenttime,\r\n            frame: this.animationFrame,\r\n            timestamp,\r\n          });\r\n          this.done = true;\r\n          // this.keyframes.restart();\r\n          // debugger;\r\n          if (this.loop) requestAnimationFrame(animate.bind(this));\r\n          this.next?.();\r\n        } else if (!this.done) {\r\n          this.done = true;\r\n          // this.keyframes.restart();\r\n          if (this.loop) requestAnimationFrame(animate.bind(this));\r\n          this.next?.();\r\n        }\r\n      }\r\n      if (this.animationFrame === 0) this.__start();\r\n    }\r\n    requestAnimationFrame(animate.bind(this));\r\n    return this;\r\n  }\r\n  finally(callback) {\r\n    this.next = callback;\r\n    return this;\r\n  }\r\n  break() {\r\n    this.stop = false;\r\n    return this;\r\n  }\r\n  listen(type, callback) {\r\n    switch (type) {\r\n      case 'start':\r\n        this._start.then(callback);\r\n        break;\r\n    }\r\n  }\r\n}\r\nclass Keyframes {\r\n  constructor(keyframes, easing) {\r\n    this.keyframes = [];\r\n    this.run = [];\r\n    keyframes.every((keyframe, i) => {\r\n      if (\r\n        !(keyframe instanceof Keyframes.keyframe) ||\r\n        this.keyframes.some(k => k.time === keyframe.time)\r\n      ) {\r\n        console.error(new Error(`Invalid Keyframe ${i + 1}!`));\r\n        return false;\r\n      } else {\r\n        this.keyframes.push(keyframe);\r\n        return true;\r\n      }\r\n    });\r\n    this.keyframes.forEach(k => this.run.push(k));\r\n    if (typeof easing !== 'function') {\r\n      this.easing = EasingFunctions[easing];\r\n    } else {\r\n      this.easing = easing;\r\n    }\r\n    this.nextTime();\r\n  }\r\n  nextTime() {\r\n    if (!this.run.length) {\r\n      return (this.next = null);\r\n    }\r\n\r\n    if (this.run.length > 1) {\r\n      this.current = this.run.reduce((previousValue, currentValue) =>\r\n        currentValue.time < previousValue.time ? currentValue : previousValue\r\n      );\r\n      this.next = this.run\r\n        .filter(v => v.time !== this.current.time)\r\n        .reduce((previousValue, currentValue) =>\r\n          currentValue.time < previousValue ? currentValue : previousValue\r\n        );\r\n    } else {\r\n      this.restart();\r\n      this.next = this.run.reduce((previousValue, currentValue) =>\r\n        currentValue.time < previousValue.time ? currentValue : previousValue\r\n      );\r\n    }\r\n    this.run.shift();\r\n  }\r\n  restart() {\r\n    while (this.run.length) this.run.pop();\r\n    this.keyframes.forEach(k => this.run.push(k));\r\n  }\r\n  test(progress) {\r\n    if (this.next.time <= progress) this.nextTime();\r\n    progress = Math.min(this.easing(progress), 1);\r\n    const dif = this.next.val - this.current.val;\r\n    const a = this.next.time - this.current.time;\r\n    const sum = dif * progress;\r\n    return (this.current.val + sum) / a;\r\n  }\r\n  clone() {\r\n    let orig = this;\r\n    return Object.assign(Object.create(Object.getPrototypeOf(orig)), orig);\r\n  }\r\n  static keyframe = class {\r\n    constructor(totalProgress, value) {\r\n      this.time = totalProgress;\r\n      this.val = value;\r\n    }\r\n  };\r\n}\r\n\r\n// const anim = new AlgoFrame(2500, 2000, \"easeInQuad\", 50, 150);\r\n// anim.run((x) => console.log(x));\r\n\r\nexport { AlgoFrame, Keyframes };\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(494);\n"],"names":["root","factory","exports","module","define","amd","self","_keyframe","constructor","timing","type","delay","hold","this","id","instances","time","duration","Error","ratio","miliseconds","ratioAndMilisecons","valueKeyframe","value","super","nestedKeyframe","obj","seq","KeyChanger","easing","next","current","adaptative","Math","floor","_","run","passPreset","nextTime","length","reduce","previousValue","currentValue","filter","v","restart","shift","passKeyframe","k","is_value","object","pop","reset","static","x","y","a","test","progress","runAdaptative","nextValue","min","kProgress","console","log","String","lerp","nextValueFromObj","getAbsoluteStartValue","undefined","currentAsSequence","sequence","last","getAbsoluteEndKeyframe","keyframes","callback","taken","zero","final","first","unshift","push","forEach","i","includes","addKeyframe","keyframe","replaceKeyframe","end","rProgress","res","clone","Object","assign","create","getPrototypeOf","channels","toMaxDuration","maxDuration","prev","cur","channel","enlarge","basic","Sequence","second","AF","AlgoFrame","toFixed","EasingFunctions","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","preset","starttime","FPS","loop","_starttime","startafterwait","startanimationtime","stop","_start","Promise","__start","done","_FPS","frameDelay","frameRate","frame","animationFrame","parseFloat","arr","_running","save","precision","restartKeyframes","_timeline","_current","running","restartTimeline","_next","timeline","array","real","reverseLoop","data","event","isNaN","finally","all","p","c","len","splice","indexOf","saved_timeline","map","l","reversed","X","easedProgress","params","timestamp","waiting","reverse","condition","seg","Refresher","history","Array","fill","currenttime","refresh","curr","lastFrameRate","requestAnimationFrame","animate","Boolean","runtime","relativeProgress","bind","sent","lastFrame","currentTime","break","listen","then","Keyframes","every","some","error","dif","val","sum","totalProgress","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","d","definition","key","o","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","r","Symbol","toStringTag"],"sourceRoot":""}